version: "2"
sql:
  - engine: "sqlite"
    queries: "db/queries"
    schema: "db/migrations"
    gen:
      go:
        package: "db"
        out: "generated/db"
        emit_json_tags: true
        emit_empty_slices: true
        overrides:
          # Worker enums
          - column: "workers.share_mode"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "ShareMode"
          - column: "workers.status"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "WorkerStatus"
          # Worker notification enums
          - column: "worker_notifications.type"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "NotificationType"
          - column: "worker_notifications.status"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "NotificationStatus"
          # Worker registration enum
          - column: "worker_registrations.status"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "RegistrationStatus"
          # Workspace enums
          - column: "workspaces.share_mode"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "ShareMode"
          # Agent enum
          - column: "agents.status"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "AgentStatus"
          # Message enums
          - column: "messages.role"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "MessageRole"
          - column: "messages.content_compression"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "ContentCompression"
          # Workspace section enums
          - column: "workspace_sections.section_type"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "SectionType"
          - column: "workspace_sections.sidebar"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "Sidebar"
          # Workspace tab enums
          - column: "workspace_tabs.tab_type"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "TabType"
          - column: "workspace_tile_active_tabs.tab_type"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "TabType"
          # Worktree tab enum
          - column: "worktree_tabs.tab_type"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "TabType"
          # Org member enum
          - column: "org_members.role"
            go_type:
              import: "github.com/leapmux/leapmux/generated/proto/leapmux/v1"
              type: "OrgMemberRole"
